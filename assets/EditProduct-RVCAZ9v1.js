import{b as p,u as b,r as d,j as e}from"./index-BnCbwZkm.js";import{R as x,L as g,T as h,C as i}from"./index-D26aEQRc.js";const N=()=>{const{id:o}=p(),c=b(),[a,r]=d.useState({name:"",description:"",metaTitle:"",metaDescription:"",metaKeywords:"",price:"",specialPrice:"",quantity:"",status:"",mainImage:null,subImages:[]});d.useEffect(()=>{const l=(JSON.parse(localStorage.getItem("products"))||[]).find(n=>String(n.id)===o);l&&r({...l,subImages:l.subImages||[]})},[o]);const s=t=>{const{name:l,value:n,files:m}=t.target;r(l==="mainImage"?{...a,mainImage:m[0]}:l==="subImages"?{...a,subImages:[...a.subImages,...Array.from(m)]}:{...a,[l]:n})},u=t=>{t.preventDefault();const n=(JSON.parse(localStorage.getItem("products"))||[]).map(m=>String(m.id)===o?{...a}:m);localStorage.setItem("products",JSON.stringify(n)),alert("âœ… Product updated successfully!"),c("/admin/products")};return e.jsxs("div",{className:"p-6 bg-white shadow rounded",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Edit Product"}),e.jsx("button",{onClick:()=>c("/admin/products"),className:"bg-[#003b19] text-white px-4 py-2 rounded",children:"All Products"})]}),e.jsxs("form",{onSubmit:u,children:[e.jsxs(x,{defaultValue:"general",children:[e.jsx(g,{className:"flex border-b overflow-x-auto",children:["General","Data","Image"].map(t=>e.jsx(h,{value:t.toLowerCase(),className:"px-4 py-2 text-sm font-medium text-gray-600 hover:text-[#003b19] data-[state=active]:border-b-2 data-[state=active]:border-[#003b19] data-[state=active]:text-[#003b19] data-[state=active]:font-bold ",children:t},t))}),e.jsxs(i,{value:"general",className:"p-4",children:[e.jsx("label",{className:"block font-medium",children:"Product Name"}),e.jsx("input",{type:"text",name:"name",value:a.name,onChange:s,className:"border w-full p-2 rounded mb-1"}),e.jsx("label",{className:"block font-medium mt-3",children:"Description"}),e.jsx("textarea",{name:"description",value:a.description,onChange:s,className:"border w-full p-2 rounded mb-1"}),e.jsx("label",{className:"block font-medium mt-3",children:"Meta Tag Title"}),e.jsx("input",{type:"text",name:"metaTitle",value:a.metaTitle,onChange:s,className:"border w-full p-2 rounded mb-1"}),e.jsx("label",{className:"block font-medium mt-3",children:"Meta Tag Description"}),e.jsx("input",{type:"text",name:"metaDescription",value:a.metaDescription,onChange:s,className:"border w-full p-2 rounded mb-1"}),e.jsx("label",{className:"block font-medium mt-3",children:"Meta Tag Keywords"}),e.jsx("input",{type:"text",name:"metaKeywords",value:a.metaKeywords,onChange:s,className:"border w-full p-2 rounded mb-1"})]}),e.jsxs(i,{value:"data",className:"p-4",children:[e.jsx("label",{className:"block font-medium",children:"Main Price"}),e.jsx("input",{type:"number",name:"price",value:a.price,onChange:s,className:"border w-full p-2 rounded mb-1"}),e.jsx("label",{className:"block font-medium mt-3",children:"Special Price"}),e.jsx("input",{type:"number",name:"specialPrice",value:a.specialPrice,onChange:s,className:"border w-full p-2 rounded mb-1"}),e.jsx("label",{className:"block font-medium mt-3",children:"Quantity"}),e.jsx("input",{type:"number",name:"quantity",value:a.quantity,onChange:s,className:"border w-full p-2 rounded mb-1"}),"\\",e.jsx("label",{className:"block font-medium mt-3",children:"Status"}),e.jsxs("select",{name:"status",value:a.status,onChange:s,className:"border w-full p-2 rounded mb-1",children:[e.jsx("option",{value:"",children:"-- Select Status --"}),e.jsx("option",{value:"Available",children:"Available"}),e.jsx("option",{value:"Out of stock",children:"Out of stock"})]})]}),e.jsxs(i,{value:"image",className:"p-4",children:[e.jsx("label",{className:"block font-medium",children:"Main Image"}),e.jsx("input",{type:"file",name:"mainImage",onChange:s}),a.mainImage&&e.jsx("img",{src:typeof a.mainImage=="string"?a.mainImage:URL.createObjectURL(a.mainImage),alt:"main",className:"w-32 h-32 object-cover rounded mt-2"}),e.jsx("label",{className:"block font-medium mt-3",children:"Sub Images"}),e.jsx("input",{type:"file",name:"subImages",multiple:!0,onChange:s}),e.jsx("div",{className:"flex gap-2 mt-3 flex-wrap",children:a.subImages.map((t,l)=>e.jsx("img",{src:typeof t=="string"?t:URL.createObjectURL(t),alt:`sub-${l}`,className:"w-20 h-20 object-cover rounded"},l))})]})]}),e.jsxs("div",{className:"mt-6 flex justify-end gap-4",children:[e.jsx("button",{type:"button",onClick:()=>c("/products"),className:"bg-gray-400 text-white px-4 py-2 rounded",children:"Cancel"}),e.jsx("button",{type:"submit",className:"bg-[#003b19] text-white px-6 py-2 rounded",children:"Update"})]})]})]})};export{N as default};
